{
  "comments": [
    {
      "key": {
        "uuid": "90ec99cf_0df9b1b2",
        "filename": "CMakeLists.txt",
        "patchSetId": 3
      },
      "lineNbr": 470,
      "author": {
        "id": 5010
      },
      "writtenOn": "2015-10-07T09:25:33Z",
      "side": 1,
      "message": "I believe the right way to do this is append to CERES_COMPILE_OPTIONS.\n\nso that things like the android compile and the google3 compile which do not depend on this cmake file will do the right thing.",
      "revId": "63b985bac355f8d2321318f02788aefdcfb65969",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "506b0131_43fe069c",
        "filename": "CMakeLists.txt",
        "patchSetId": 3
      },
      "lineNbr": 470,
      "author": {
        "id": 5155
      },
      "writtenOn": "2015-10-07T09:51:46Z",
      "side": 1,
      "message": "We shouldn\u0027t add another CXX enabling define here, CERES_USE_CXX11 is defined in a configured config.h, so checks should be: #if defined(CERES_USE_CXX11), after a #include \"ceres/internal/config.h\".\n\nHowever, on Android which currently use a default empty config.h, unless we update the config.h to have sensible Android defaults this would necessitate passing CERES_USE_CXX11 to every application using public Ceres headers (bad, interestingly, this is likely already causing us a potential problem @ solver.h line 95).\n\nThus, IMO we should add a: config/ceres/internal/config.h in the jni directory that sets up the expected Android configuration (and remove the corresponding flags from Android.mk) and then add that jni directory to the include path in place of: CERES_INCLUDE_PATHS +\u003d $(LOCAL_PATH)/../config.",
      "parentUuid": "90ec99cf_0df9b1b2",
      "revId": "63b985bac355f8d2321318f02788aefdcfb65969",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0435d80_c7d83402",
        "filename": "CMakeLists.txt",
        "patchSetId": 3
      },
      "lineNbr": 470,
      "author": {
        "id": 5546
      },
      "writtenOn": "2015-10-07T15:43:15Z",
      "side": 1,
      "message": "I am a little confused by your suggestion: using config.h is obviously easy and I can do that, but having not worked with Android.mk builds or JNI I\u0027m a bit confused. Do you want me to add a new set of subdirectories to jni for config/ceres/internal ? And what would go in there, just CERES_USE_CXX11?",
      "parentUuid": "506b0131_43fe069c",
      "revId": "63b985bac355f8d2321318f02788aefdcfb65969",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30fe8d70_b2b60030",
        "filename": "CMakeLists.txt",
        "patchSetId": 3
      },
      "lineNbr": 470,
      "author": {
        "id": 5002
      },
      "writtenOn": "2015-10-08T20:12:33Z",
      "side": 1,
      "message": "I think the config.h change should happen independent of this CL and before this CL.",
      "parentUuid": "b0435d80_c7d83402",
      "revId": "63b985bac355f8d2321318f02788aefdcfb65969",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "506b0131_23f90ab3",
        "filename": "include/ceres/jet.h",
        "patchSetId": 3
      },
      "lineNbr": 232,
      "author": {
        "id": 5155
      },
      "writtenOn": "2015-10-07T09:51:46Z",
      "side": 1,
      "message": "This should instead use: CERES_USE_CXX11 which is defined in a configured config.h if Ceres is compiled with C++11 enabled.  This also requires that jet.h #include \"ceres/internal/config.h\".\n\nAlthough, this might also require some updates to the docs, currently they state that the CXX11 option is only used for shared_ptr/unordered_map detection.",
      "range": {
        "startLine": 232,
        "startChar": 6,
        "endLine": 232,
        "endChar": 18
      },
      "revId": "63b985bac355f8d2321318f02788aefdcfb65969",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e55355fb_9f27dfef",
        "filename": "include/ceres/jet.h",
        "patchSetId": 3
      },
      "lineNbr": 232,
      "author": {
        "id": 5005
      },
      "writtenOn": "2015-11-04T23:17:06Z",
      "side": 1,
      "message": "I agree this should go in port or config.",
      "parentUuid": "506b0131_23f90ab3",
      "range": {
        "startLine": 232,
        "startChar": 6,
        "endLine": 232,
        "endChar": 18
      },
      "revId": "63b985bac355f8d2321318f02788aefdcfb65969",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e55355fb_bf2ca3d4",
        "filename": "include/ceres/jet.h",
        "patchSetId": 3
      },
      "lineNbr": 239,
      "author": {
        "id": 5005
      },
      "writtenOn": "2015-11-04T23:17:06Z",
      "side": 1,
      "message": "Comment should be a complete sentence, and if it\u0027s a bug, is there a reference to it somewhere (url)?",
      "revId": "63b985bac355f8d2321318f02788aefdcfb65969",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "506b0131_83e71e0b",
        "filename": "include/ceres/jet.h",
        "patchSetId": 3
      },
      "lineNbr": 240,
      "author": {
        "id": 5155
      },
      "writtenOn": "2015-10-07T09:51:46Z",
      "side": 1,
      "message": "IMO, this (the detection of the location of max_align_t) should probably live in include/ceres/internal/port.h.",
      "revId": "63b985bac355f8d2321318f02788aefdcfb65969",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "16ac2a06_15b01602",
        "filename": "include/ceres/jet.h",
        "patchSetId": 3
      },
      "lineNbr": 240,
      "author": {
        "id": 5005
      },
      "writtenOn": "2015-11-29T23:01:58Z",
      "side": 1,
      "message": "agreed.",
      "parentUuid": "506b0131_83e71e0b",
      "revId": "63b985bac355f8d2321318f02788aefdcfb65969",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    }
  ]
}
{
  "comments": [
    {
      "key": {
        "uuid": "f645ffe5_e39ee657",
        "filename": "internal/ceres/gradient_checker_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 469,
      "author": {
        "id": 5002
      },
      "writtenOn": "2016-09-07T22:28:15Z",
      "side": 1,
      "message": "You can use ExpectArraysClose in test_util.h",
      "range": {
        "startLine": 469,
        "startChar": 44,
        "endLine": 469,
        "endChar": 52
      },
      "revId": "3990f55b222d7bdf2f1f4f79f47a2ca3287dc2e7",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6b3cc6c0_91fc5c05",
        "filename": "internal/ceres/gradient_checker_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 469,
      "author": {
        "id": 5530
      },
      "writtenOn": "2016-09-14T10:05:56Z",
      "side": 1,
      "message": "So, this is how that would look:\n\n  ExpectArraysClose(results.local_jacobians.at(0).size(),\n                    results.local_jacobians.at(0).data(),\n                    (j0 * global_J_local).eval().data(), kTolerance);\n\nThe current form is certainly shorter, and less error-prone (it checks the actual matrix sizes). I could define a helper function that calls ExpectArraysClose under the hood and use that everywhere, would that be better?\n\nBesides, what is the motivation behind using ExpectArraysClose? To make the code shorter? Not to rely on the Eigen API too much? To have the same comparison metric as in other places (only polynomial_test.cc uses that function in two places btw.)?\n\nRight now it\u0027s hard for me to decide what to do, since I don\u0027t know the considerations. Please advise.",
      "parentUuid": "f645ffe5_e39ee657",
      "range": {
        "startLine": 469,
        "startChar": 44,
        "endLine": 469,
        "endChar": 52
      },
      "revId": "3990f55b222d7bdf2f1f4f79f47a2ca3287dc2e7",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    }
  ]
}
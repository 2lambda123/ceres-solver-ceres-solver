{
  "comments": [
    {
      "key": {
        "uuid": "d5899262_b7c6c8db",
        "filename": "internal/ceres/concurrent_queue.h",
        "patchSetId": 5
      },
      "lineNbr": 58,
      "author": {
        "id": 5005
      },
      "writtenOn": "2018-02-21T00:53:12Z",
      "side": 1,
      "message": "Perhaps mention that after Abort(), the object is dead and needs to be destructed (no resurrection).\n\nPerhaps Flush()? And support re-using later?",
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d9c2742c_582a27f0",
        "filename": "internal/ceres/concurrent_queue.h",
        "patchSetId": 5
      },
      "lineNbr": 58,
      "author": {
        "id": 5435
      },
      "writtenOn": "2018-02-21T19:31:23Z",
      "side": 1,
      "message": "I have redesigned the concurrent queue to have a Wait method and an enable/disable wait logic.  This is probably cleaner because we don\u0027t have this weird state of the queue being dead.",
      "parentUuid": "d5899262_b7c6c8db",
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "25e2dcc3_5db33186",
        "filename": "internal/ceres/concurrent_queue.h",
        "patchSetId": 5
      },
      "lineNbr": 77,
      "author": {
        "id": 5005
      },
      "writtenOn": "2018-02-21T00:53:12Z",
      "side": 1,
      "message": "nit: Please add a comment blank after this line.",
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9210451_389f4099",
        "filename": "internal/ceres/concurrent_queue.h",
        "patchSetId": 5
      },
      "lineNbr": 77,
      "author": {
        "id": 5435
      },
      "writtenOn": "2018-02-21T19:31:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "25e2dcc3_5db33186",
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "648a4fce_504b42b3",
        "filename": "internal/ceres/concurrent_queue.h",
        "patchSetId": 5
      },
      "lineNbr": 86,
      "author": {
        "id": 6060
      },
      "writtenOn": "2018-02-21T18:52:35Z",
      "side": 1,
      "message": "I\u0027d personally put this line and the next one in a scope and remove the unlock(), but this is fine too if you prefer it.",
      "range": {
        "startLine": 86,
        "startChar": 0,
        "endLine": 86,
        "endChar": 46
      },
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c0f0263_0524c8d6",
        "filename": "internal/ceres/concurrent_queue.h",
        "patchSetId": 5
      },
      "lineNbr": 86,
      "author": {
        "id": 5435
      },
      "writtenOn": "2018-02-21T19:31:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "648a4fce_504b42b3",
      "range": {
        "startLine": 86,
        "startChar": 0,
        "endLine": 86,
        "endChar": 46
      },
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "25ea79b7_604a1c2c",
        "filename": "internal/ceres/concurrent_queue.h",
        "patchSetId": 5
      },
      "lineNbr": 87,
      "author": {
        "id": 6060
      },
      "writtenOn": "2018-02-21T18:52:35Z",
      "side": 1,
      "message": "Add queue_.clear()?",
      "range": {
        "startLine": 87,
        "startChar": 18,
        "endLine": 87,
        "endChar": 0
      },
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d67e81b2_8b1fa796",
        "filename": "internal/ceres/concurrent_queue.h",
        "patchSetId": 5
      },
      "lineNbr": 87,
      "author": {
        "id": 5435
      },
      "writtenOn": "2018-02-21T19:31:23Z",
      "side": 1,
      "message": "I added a new Wait method that does the block so now this will also act like a normal queue with push/pop.  So now we don\u0027t have a weird state and don\u0027t need to clear.",
      "parentUuid": "25ea79b7_604a1c2c",
      "range": {
        "startLine": 87,
        "startChar": 18,
        "endLine": 87,
        "endChar": 0
      },
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ca63ae4_9cd33137",
        "filename": "internal/ceres/thread_pool.cc",
        "patchSetId": 5
      },
      "lineNbr": 68,
      "author": {
        "id": 6060
      },
      "writtenOn": "2018-02-21T18:52:35Z",
      "side": 1,
      "message": "Strictly speaking, you need to hold thread_pool_mutex_ while doing this. If Resize() was called earlier from another thread, it\u0027s possible that the modifications that it made to thread_pool_ aren\u0027t visible to this thread yet.",
      "range": {
        "startLine": 68,
        "startChar": 0,
        "endLine": 68,
        "endChar": 44
      },
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "711d41da_f45a6fd0",
        "filename": "internal/ceres/thread_pool.cc",
        "patchSetId": 5
      },
      "lineNbr": 68,
      "author": {
        "id": 5435
      },
      "writtenOn": "2018-02-21T19:31:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6ca63ae4_9cd33137",
      "range": {
        "startLine": 68,
        "startChar": 0,
        "endLine": 68,
        "endChar": 44
      },
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a751f45_027cb575",
        "filename": "internal/ceres/thread_pool.h",
        "patchSetId": 5
      },
      "lineNbr": 38,
      "author": {
        "id": 6060
      },
      "writtenOn": "2018-02-21T18:52:35Z",
      "side": 1,
      "message": "ConcurrentQueue is only defined if CXX11_THREADS. Does thread_pool.h also need to define ThreadPool if CXX11_THREADS?",
      "range": {
        "startLine": 38,
        "startChar": 35,
        "endLine": 38,
        "endChar": 0
      },
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "033a7f71_e8502ca0",
        "filename": "internal/ceres/thread_pool.h",
        "patchSetId": 5
      },
      "lineNbr": 38,
      "author": {
        "id": 5435
      },
      "writtenOn": "2018-02-21T19:31:23Z",
      "side": 1,
      "message": "Quick question.  If nothing will include ConcurrentQueue or TheadPool if not compiling with CXX11_THREADS mode.  Do we need to have the ifdef guards?   (If not, I\u0027ll remove them from the ConcurrentQueue).",
      "parentUuid": "6a751f45_027cb575",
      "range": {
        "startLine": 38,
        "startChar": 35,
        "endLine": 38,
        "endChar": 0
      },
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1cd244f6_a4301cec",
        "filename": "internal/ceres/thread_pool.h",
        "patchSetId": 5
      },
      "lineNbr": 46,
      "author": {
        "id": 5005
      },
      "writtenOn": "2018-02-21T00:53:12Z",
      "side": 1,
      "message": "I count three :)",
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69387a37_e813d299",
        "filename": "internal/ceres/thread_pool.h",
        "patchSetId": 5
      },
      "lineNbr": 46,
      "author": {
        "id": 5435
      },
      "writtenOn": "2018-02-21T19:31:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1cd244f6_a4301cec",
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2a4d66b1_372079e5",
        "filename": "internal/ceres/thread_pool.h",
        "patchSetId": 5
      },
      "lineNbr": 76,
      "author": {
        "id": 6060
      },
      "writtenOn": "2018-02-21T18:52:35Z",
      "side": 1,
      "message": "Resizes",
      "range": {
        "startLine": 76,
        "startChar": 5,
        "endLine": 76,
        "endChar": 11
      },
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd5bb202_7464da99",
        "filename": "internal/ceres/thread_pool.h",
        "patchSetId": 5
      },
      "lineNbr": 76,
      "author": {
        "id": 5435
      },
      "writtenOn": "2018-02-21T19:31:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2a4d66b1_372079e5",
      "range": {
        "startLine": 76,
        "startChar": 5,
        "endLine": 76,
        "endChar": 11
      },
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "416c8e8e_2382c81f",
        "filename": "internal/ceres/thread_pool.h",
        "patchSetId": 5
      },
      "lineNbr": 87,
      "author": {
        "id": 6060
      },
      "writtenOn": "2018-02-21T18:52:35Z",
      "side": 1,
      "message": "Adds... wakes...",
      "range": {
        "startLine": 87,
        "startChar": 5,
        "endLine": 87,
        "endChar": 8
      },
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f1c4c14_fd330398",
        "filename": "internal/ceres/thread_pool.h",
        "patchSetId": 5
      },
      "lineNbr": 87,
      "author": {
        "id": 5435
      },
      "writtenOn": "2018-02-21T19:31:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "416c8e8e_2382c81f",
      "range": {
        "startLine": 87,
        "startChar": 5,
        "endLine": 87,
        "endChar": 8
      },
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9dc6e8ef_34cb8a43",
        "filename": "internal/ceres/thread_pool.h",
        "patchSetId": 5
      },
      "lineNbr": 88,
      "author": {
        "id": 6060
      },
      "writtenOn": "2018-02-21T18:52:35Z",
      "side": 1,
      "message": "I may be missing something - how does this abstraction handle the work stealing necessary to avoid deadlock?",
      "range": {
        "startLine": 88,
        "startChar": 0,
        "endLine": 88,
        "endChar": 77
      },
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a81da852_d8da224f",
        "filename": "internal/ceres/thread_pool.h",
        "patchSetId": 5
      },
      "lineNbr": 88,
      "author": {
        "id": 5435
      },
      "writtenOn": "2018-02-21T19:31:23Z",
      "side": 1,
      "message": "It doesn\u0027t.  This is a generic thread pool for just managing tasks.  In 2 CLs when the ParallelFor is introduced, it will do the work stealing.",
      "parentUuid": "9dc6e8ef_34cb8a43",
      "range": {
        "startLine": 88,
        "startChar": 0,
        "endLine": 88,
        "endChar": 77
      },
      "revId": "f53dda22b31f0085987f4245c6297ac777523249",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    }
  ]
}
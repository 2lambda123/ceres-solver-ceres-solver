{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "564eb07c_8eadcb99",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 5002
      },
      "writtenOn": "2021-06-18T16:26:38Z",
      "side": 1,
      "message": "Hi Alexander, Thanks for the experiments and detailed changes. I am looking at the benchmarks and some observations.\n\n1. Addition and AdditionScalar are not do not seem to be affected much except for large jets.\n2. Subtraction on the other hand shows uniform improvements. I wonder why this is.\n3. Multiplication has a weird dip where small and large are improved but medium sizes remain the same. Any idea what is going on here?\n4. MultiplicationLeft/RightScalar seems to not be affected for small sizes but only show improvements for large.\n5. Division seems to show steady improvement with size or no changes for small and only improvements for large. \n\nSo for small jets the improvements are small, most of the benefits are for large jets. Does that line up with your view of these optimizations too?\n\nAre you done with this CL or are you still exploring further optimizations ?",
      "revId": "c84dff5278e15bb1141e5ac9f0c36117a2bfe1d1",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e001e940_6b2d3db2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 6547
      },
      "writtenOn": "2021-06-18T22:35:46Z",
      "side": 1,
      "message": "\u003e 2, 3\n\nI spent some time trying to interpret the subtraction and multiplication discrepancy. It seems there was a spike during my testing that worsened the \"before\" measurement during Subtraction and the start of Multiplication. I have replaced the commit message with fresh measurements for both \"before\" and \"after\".\n\n\u003e So for small jets the improvements are small, most of the benefits are for large jets. Does that line up with your view of these optimizations too?\n\nI\u0027d say for small jets the results are essentially unchanged and subject to noise. While I do see more minuses that pluses, the differences are very small. Importantly, judging from the benchmarks, I think it is safe to say that performance for small jets is *not regressed* compared to before, while large jets get to enjoy some speedups.\n\n\n\u003e Are you done with this CL or are you still exploring further optimizations ?\n\nUnless there are any remaining concerns, the \"avoid copies\" CL is ready. I am exploring other optimizations that are orthogonal to this and plan to submit a CL for consideration if it yield improvements.",
      "parentUuid": "564eb07c_8eadcb99",
      "revId": "c84dff5278e15bb1141e5ac9f0c36117a2bfe1d1",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "57757add_7cc3e2bb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 5002
      },
      "writtenOn": "2021-06-18T22:38:21Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "e001e940_6b2d3db2",
      "revId": "c84dff5278e15bb1141e5ac9f0c36117a2bfe1d1",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "611661aa_b62d1082",
        "filename": "include/ceres/jet.h",
        "patchSetId": 4
      },
      "lineNbr": 243,
      "author": {
        "id": 6547
      },
      "writtenOn": "2021-06-18T05:28:13Z",
      "side": 1,
      "message": "NOTE: according to the benchmark, eigen\u0027s binary ops perform better than the compound ops.",
      "revId": "c84dff5278e15bb1141e5ac9f0c36117a2bfe1d1",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "61240fe5_b3093fdf",
        "filename": "include/ceres/jet.h",
        "patchSetId": 4
      },
      "lineNbr": 243,
      "author": {
        "id": 5002
      },
      "writtenOn": "2021-06-18T16:26:38Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "611661aa_b62d1082",
      "revId": "c84dff5278e15bb1141e5ac9f0c36117a2bfe1d1",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    }
  ]
}
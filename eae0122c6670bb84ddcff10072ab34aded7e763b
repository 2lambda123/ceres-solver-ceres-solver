{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "39467f80_be003fcc",
        "filename": ".github/workflows/linux.yml",
        "patchSetId": 2
      },
      "lineNbr": 73,
      "author": {
        "id": 5002
      },
      "writtenOn": "2024-05-15T18:43:41Z",
      "side": 1,
      "message": "drop tab/convert to space?",
      "range": {
        "startLine": 73,
        "startChar": 0,
        "endLine": 73,
        "endChar": 6
      },
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2f8e3ab0_87669d67",
        "filename": ".github/workflows/linux.yml",
        "patchSetId": 2
      },
      "lineNbr": 73,
      "author": {
        "id": 6141
      },
      "writtenOn": "2024-05-20T11:16:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "39467f80_be003fcc",
      "range": {
        "startLine": 73,
        "startChar": 0,
        "endLine": 73,
        "endChar": 6
      },
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "380177ce_4fef93cb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5002
      },
      "writtenOn": "2024-01-16T21:09:50Z",
      "side": 1,
      "message": "I have been thinking about this some more, especially in light of \n\nhttps://github.com/ceres-solver/ceres-solver/issues/1026\n\nI think we should think about this patch again and what would be the best way to land this in ceres.",
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "38c885f5_b823fa6c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5002
      },
      "writtenOn": "2024-05-14T17:46:36Z",
      "side": 1,
      "message": "Mark,\nSince you are looking into GPU based sparse cholesky already. I was wondering if you wanted to take a look at this too. \n\nI think Dmitry has become busy with other things, so I am wondering if you would be interested in taking this CL on and landing it.\n\nUnless Dmitriy you are paying attention and are interested.. \n\nSameer",
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d932b9a9_aa22ef54",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 6141
      },
      "writtenOn": "2024-05-15T11:58:39Z",
      "side": 1,
      "message": "There seem to be no support of accessing parts of sparse QR decomposition in intel mkl.\n\nhttps://community.intel.com/t5/Intel-oneAPI-Math-Kernel-Library/Q-and-R-factors-in-Sparse-QR/td-p/1158789\nhttps://community.intel.com/t5/Intel-oneAPI-Math-Kernel-Library/Access-to-R-factor-in-SparseQR/m-p/1491029\n\nNot sure how we can effectively perform covariance computations without them.",
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d185007a_6140df83",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5002
      },
      "writtenOn": "2024-05-15T13:57:12Z",
      "side": 1,
      "message": "Welcome back Dmitriy! I am so glad to hear from you. \n\nI will take a close look to refresh both my memory as well go over the code with a fine toothed comb later today now that we have decided to land this backend.\n\nCan you rebase this on the latest version of Ceres at head.\n\nI am also curious if anything has changed in intel oneapi in the intervening year.",
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1449f0ec_3d5fee5c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5002
      },
      "writtenOn": "2024-05-15T18:43:41Z",
      "side": 1,
      "message": "a few high level comments, I will take a closer look at mkl_sparse.h/cc once you rebase and have had a look at any new changes to the oneapi.",
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f68ac2b1_3f76d1db",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 6667
      },
      "writtenOn": "2024-05-16T18:42:58Z",
      "side": 1,
      "message": "Sameer, it looks like Dmitriy is on it :)\n\nDmitriy, it is nice to see you working on it!",
      "parentUuid": "38c885f5_b823fa6c",
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b1329c41_99864925",
        "filename": "CMakeLists.txt",
        "patchSetId": 2
      },
      "lineNbr": 283,
      "author": {
        "id": 5002
      },
      "writtenOn": "2024-05-15T18:43:41Z",
      "side": 1,
      "message": "shouldn\u0027t this detection also interact with the lapack detection below?\nin that if MKL detection succeeds, then LAPACK detection also effectively succeeds?\nsame for BLAS.",
      "range": {
        "startLine": 283,
        "startChar": 4,
        "endLine": 283,
        "endChar": 11
      },
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2456023e_165f6d07",
        "filename": "CMakeLists.txt",
        "patchSetId": 2
      },
      "lineNbr": 283,
      "author": {
        "id": 6141
      },
      "writtenOn": "2024-05-20T11:16:47Z",
      "side": 1,
      "message": "Seem to work out-of-the-box\n```\ndkorchemkin@temp:~/oss/ceres-mkl/build$ cmake ../ -DUSE_MKL\u003dON                                                                                                                                                                          \n...\n-- MKL_VERSION: 2024.1.0                                                                                                                                                                                                                      \n-- MKL_ROOT: /home/dkorchemkin/intel/oneapi/mkl/2024.1                                                \n-- MKL_ARCH: None, set to ` intel64` by default                                             \n-- MKL_LINK: None, set to ` dynamic` by default                                               \n-- MKL_INTERFACE_FULL: intel_lp64                                                                                                                                                                                                             \n-- MKL_THREADING: None, set to ` intel_thread` by default                                                        \n-- MKL_MPI: None, set to ` intelmpi` by default                                                                   \n-- Found /home/dkorchemkin/intel/oneapi/mkl/2024.1/lib/libmkl_scalapack_lp64.so  \n-- Found /home/dkorchemkin/intel/oneapi/mkl/2024.1/lib/libmkl_cdft_core.so                                                                                                                                                                    \n-- Found /home/dkorchemkin/intel/oneapi/mkl/2024.1/lib/libmkl_intel_lp64.so                     \n-- Found /home/dkorchemkin/intel/oneapi/mkl/2024.1/lib/libmkl_intel_thread.so           \n-- Found /home/dkorchemkin/intel/oneapi/mkl/2024.1/lib/libmkl_core.so                 \n-- Found /home/dkorchemkin/intel/oneapi/mkl/2024.1/lib/libmkl_blacs_intelmpi_lp64.so             \n-- Found /home/dkorchemkin/intel/oneapi/compiler/2024.1/lib/libiomp5.so                     \n-- Found MKL 2024.1.0, building with MKL                                                                    \n-- Found LAPACK library: /home/dkorchemkin/intel/oneapi/mkl/2024.1/lib/libmkl_intel_lp64.so;/home/dkorchemkin/intel/oneapi/mkl/2024.1/lib/libmkl_intel_thread.so;/home/dkorchemkin/intel/oneapi/mkl/2024.1/lib/libmkl_core.so;/home/dkorchemkin/intel/oneapi/compiler/2024.1/lib/libiomp5.so;-lm;-ldl;-lm;-ldl\n...\n\n```",
      "parentUuid": "b1329c41_99864925",
      "range": {
        "startLine": 283,
        "startChar": 4,
        "endLine": 283,
        "endChar": 11
      },
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "07bbb7da_e1f37557",
        "filename": "internal/ceres/generate_bundle_adjustment_tests.py",
        "patchSetId": 2
      },
      "lineNbr": 71,
      "author": {
        "id": 5002
      },
      "writtenOn": "2024-05-15T18:43:41Z",
      "side": 1,
      "message": "add MKL_SPARSE here also.",
      "range": {
        "startLine": 71,
        "startChar": 23,
        "endLine": 71,
        "endChar": 31
      },
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "69c4451e_6a351148",
        "filename": "internal/ceres/generate_bundle_adjustment_tests.py",
        "patchSetId": 2
      },
      "lineNbr": 71,
      "author": {
        "id": 6141
      },
      "writtenOn": "2024-05-20T11:16:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "07bbb7da_e1f37557",
      "range": {
        "startLine": 71,
        "startChar": 23,
        "endLine": 71,
        "endChar": 31
      },
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5718f2c0_09900a37",
        "filename": "internal/ceres/generated_bundle_adjustment_tests/ba_sparsecholesky_mklsparse_auto_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 5002
      },
      "writtenOn": "2024-05-15T18:43:41Z",
      "side": 1,
      "message": "not that it matters, but in this case should the dense linear algebra library be eigen? or should we also have an option for the dense linear algebra library being intel?",
      "range": {
        "startLine": 51,
        "startChar": 47,
        "endLine": 51,
        "endChar": 52
      },
      "fixSuggestions": [
        {
          "fixId": "f7bf70c0_351fe07d",
          "description": "prompt_to_edit API",
          "replacements": [
            {
              "path": "internal/ceres/generated_bundle_adjustment_tests/ba_sparsecholesky_mklsparse_auto_test.cc",
              "range": {
                "startLine": 51,
                "startChar": 0,
                "endLine": 52,
                "endChar": 0
              },
              "replacement": "  options-\u003edense_linear_algebra_library_type \u003d DENSE_LINEAR_ALGEBRA_LIBRARY_DEFAULT;\n"
            }
          ]
        }
      ],
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c4cba70c_710ff6e4",
        "filename": "internal/ceres/generated_bundle_adjustment_tests/ba_sparsecholesky_mklsparse_auto_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 6141
      },
      "writtenOn": "2024-05-20T11:16:47Z",
      "side": 1,
      "message": "It already can be achieved with `dense_linear_algebra_library_type \u003d LAPACK`.\nShould we parameterize sparse solver tests by dense linear algebra type?",
      "parentUuid": "5718f2c0_09900a37",
      "range": {
        "startLine": 51,
        "startChar": 47,
        "endLine": 51,
        "endChar": 52
      },
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0db7758c_8595fc27",
        "filename": "internal/ceres/mkl_sparse.h",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 5002
      },
      "writtenOn": "2024-05-15T18:43:41Z",
      "side": 1,
      "message": "you should not need this since sparse_cholesky.h is already included in this file.",
      "range": {
        "startLine": 45,
        "startChar": 0,
        "endLine": 45,
        "endChar": 5
      },
      "fixSuggestions": [
        {
          "fixId": "8f8bf35d_e4d0ca17",
          "description": "prompt_to_edit API",
          "replacements": [
            {
              "path": "internal/ceres/mkl_sparse.h",
              "range": {
                "startLine": 45,
                "startChar": 0,
                "endLine": 46,
                "endChar": 0
              },
              "replacement": ""
            }
          ]
        }
      ],
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "edbcfa1f_014b6ccd",
        "filename": "internal/ceres/mkl_sparse.h",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 6141
      },
      "writtenOn": "2024-05-20T11:16:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0db7758c_8595fc27",
      "range": {
        "startLine": 45,
        "startChar": 0,
        "endLine": 45,
        "endChar": 5
      },
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d808c7b2_c3858dc1",
        "filename": "internal/ceres/mkl_sparse.h",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 5002
      },
      "writtenOn": "2024-05-15T18:43:41Z",
      "side": 1,
      "message": "are you going to test this class explicitly? otherwise is there a reason to keep this file in a header file or move it to mkl_sparse.cc?",
      "range": {
        "startLine": 68,
        "startChar": 18,
        "endLine": 68,
        "endChar": 24
      },
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "564af0df_e0fc0eaa",
        "filename": "internal/ceres/mkl_sparse.h",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 6141
      },
      "writtenOn": "2024-05-20T11:16:47Z",
      "side": 1,
      "message": "This is being used in re-ordering. Ordering computation is only exposed via PARDISO interface in MKL.\n\nI\u0027ve factored MKL-specific pieces into mkl_sparse.cc and now mkl_sparse.h does not \"leak\" mkl-specific stuff outside",
      "parentUuid": "d808c7b2_c3858dc1",
      "range": {
        "startLine": 68,
        "startChar": 18,
        "endLine": 68,
        "endChar": 24
      },
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4f06a0c_ddb3cdf2",
        "filename": "internal/ceres/sparse_cholesky.cc",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 5002
      },
      "writtenOn": "2024-05-15T18:43:41Z",
      "side": 1,
      "message": "since MKL supports single precision solves, we should plan on adding this.\nalso new versions of suitesparse support single precision solves, so it would be nice to have this more uniformly.",
      "range": {
        "startLine": 53,
        "startChar": 29,
        "endLine": 53,
        "endChar": 38
      },
      "revId": "eae0122c6670bb84ddcff10072ab34aded7e763b",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    }
  ]
}
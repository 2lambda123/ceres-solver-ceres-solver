{
  "comments": [
    {
      "key": {
        "uuid": "351658ef_3d9e0dc1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5155
      },
      "writtenOn": "2020-09-01T09:25:38Z",
      "side": 1,
      "message": "After checking the structure of the current TBB releases for all platforms, I think we can be more aggressive and ensure that the release/debug libraries all live in the same directory to avoid confusion - this may however still cause issues with people trying to run with local builds, but as this is a find module, they really shouldn\u0027t be using this mechanism to detect those so I think this is probably OK.",
      "revId": "5c5fd8a30189ddc405a2df086db1edbd107f8a0d",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cb9b21de_2daec275",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 6190
      },
      "writtenOn": "2020-09-01T15:12:16Z",
      "side": 1,
      "message": "Thanks for the patch. At least the case 5 from the issue (https://github.com/ceres-solver/ceres-solver/issues/612#issuecomment-684654213) is now consistent between release and debug, but still wrong (finds system version even though TBB_ROOT is set to /opt/intel/tbb, see https://gitlab.com/NikolausDemmel/ceres-test-deps/-/jobs/713462588).\n\nI think the problem is that the find module uses the PATHS argument, which has lowest priority, i.e. lower than all other system default paths (https://cmake.org/cmake/help/v3.18/command/find_path.html). To mimic the semantic of TBB_ROOT builtin to more recent cmake versions for package config files, i.e. that it takes priority over all other paths, one could run find_path / find_library twice, once with all the NO_... arguments (if TBB_ROOT is specified), and once again as is now, if the first search was not successful (or not done due to TBB_ROOT not being set).\n\nApart from that, there is still the possibility of mismatch between include path and library path, but maybe that is not a concern in practice, if they use the same search paths / roots. So this one I would ignore for now.\n\nPS: You might wanna include the fix for the TBB version in the cmake output, and maybe also the actually found TBB libraries for the user\u0027s convenience / debugability, just like you do with the found include path for other libraries like eigen. See this for inspriation: https://github.com/NikolausDemmel/ceres-solver/compare/5c5fd8a...2e4fc80\n\n(The found libraries be incorporated into that one existing message line, so it doesn\u0027t create additional lines (if your terminal is wide enough...).)",
      "revId": "5c5fd8a30189ddc405a2df086db1edbd107f8a0d",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": true
    }
  ]
}
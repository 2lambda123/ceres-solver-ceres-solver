{
  "comments": [
    {
      "key": {
        "uuid": "c6ca9cad_0785b7f3",
        "filename": "CMakeLists.txt",
        "patchSetId": 3
      },
      "lineNbr": 182,
      "author": {
        "id": 5155
      },
      "writtenOn": "2020-02-23T14:23:58Z",
      "side": 1,
      "message": "I don\u0027t think you need this `AND NOT CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS`, as it\u0027s a binary variable so you wouldn\u0027t be doing any harm by (re)enabling it if it is already enabled and this wouldn\u0027t respect the case when it was explicitly disabled by the user, e.g. via -DCMAKE_WINDOWS_EXPORT_ALL_SYMBOLS\u003dFALSE, in that case this would just re-enable it anyway - is that what you would expect to happen?\n\nAn alternative here might be to expose this as an option similar to BUILD_SHARED_LIBS s/t the user can control it directly.",
      "revId": "ca9fae775ed9e737073698cc72194dc51a6ba951",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e1aae3d_e6260079",
        "filename": "CMakeLists.txt",
        "patchSetId": 3
      },
      "lineNbr": 182,
      "author": {
        "id": 5150
      },
      "writtenOn": "2020-02-26T17:14:18Z",
      "side": 1,
      "message": "\u003e this wouldn\u0027t respect the case when it was explicitly disabled by the user, e.g. via -DCMAKE_WINDOWS_EXPORT_ALL_SYMBOLS\u003dFALSE, in that case this would just re-enable it anyway - is that what you would expect to happen?\n\nI\u0027ve seen different approaches to this problem. The advantage with this approach is that a BUILD_TESTING\u003dON build will always Just Work while still leaving the sensible default of CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS\u003dOFF in place if the user were to later turn off BUILD_TESTING.\n\nI\u0027m not sure why the user would pass -DCMAKE_WINDOWS_EXPORT_ALL_SYMBOLS\u003dFALSE since CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS is off by default.\n\nI\u0027m fine either way though. Consistency with the way Ceres normally handles this is probably the most important factor here.",
      "parentUuid": "c6ca9cad_0785b7f3",
      "revId": "ca9fae775ed9e737073698cc72194dc51a6ba951",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd5d7aa4_97d112bf",
        "filename": "CMakeLists.txt",
        "patchSetId": 3
      },
      "lineNbr": 182,
      "author": {
        "id": 5155
      },
      "writtenOn": "2020-02-26T19:45:47Z",
      "side": 1,
      "message": "I\u0027m still confused about this as for these two cases:\n\nBUILD_TESTING \u003d ON\nBUILD_SHARED_LIBS \u003d ON\nCMAKE_WINDOWS_EXPORT_ALL_SYMBOLS \u003d OFF (or not defined)\n\n-\u003e Sets CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS \u003d ON\n\nBUILD_TESTING \u003d ON\nBUILD_SHARED_LIBS \u003d ON\nCMAKE_WINDOWS_EXPORT_ALL_SYMBOLS \u003d ON\n\n-\u003e No change\n\nthe post conditions with BUILD_TESTING \u0026\u0026 BUILD_SHARED_LIBS are the same.  So when you say: \"BUILD_TESTING\u003dON build will always Just Work while still leaving the sensible default of CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS\u003dOFF\" that doesn\u0027t seem to be what is happening here, or are you relying on the state of BUILD_SHARED_LIBS being what controls this?",
      "parentUuid": "2e1aae3d_e6260079",
      "revId": "ca9fae775ed9e737073698cc72194dc51a6ba951",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329",
      "unresolved": true
    }
  ]
}
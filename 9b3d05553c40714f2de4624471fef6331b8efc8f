{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d32ad416_5a301ff6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 6141
      },
      "writtenOn": "2022-11-02T15:37:25Z",
      "side": 1,
      "message": "Parallel-for with user-supplied [cumulative] costs, and `BlockSparseMatrix::LeftMultiplyAndAccumulate` as an example of usage.\n\nParallel for iterations are being partitioned into contiguous sets, in a way that minimizes maximal cost of a single partition.\nOptimal partitioning is computed using a nested binary search (outer estimates minimal possible maximal cost of a single partition, inner tries to partition range using a given threshold for the size of a single partition).\n\n\nFor `BlockSparseMatrix` cumulative non-zero counts introduced in a previous changeset are used.\n\nThe effect of supplying non-zeros counts for partitioning can be evaluated by omitting last 2 arguments in corresponding `ParallelFor` call.\n\n```\n-----------------------------------------------------------------------------------------------------------------\nBenchmark                                                                                         Time Iterations\n-----------------------------------------------------------------------------------------------------------------\nJacobianLeftMultiplyAndAccumulate\u003cfinal/problem-13682-4456117-pre.txt\u003e/1                 1278716821 ns          1\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cfinal/problem-13682-4456117-pre.txt\u003e/1    1281769452 ns          1\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cfinal/problem-13682-4456117-pre.txt\u003e/2    2109125918 ns          1\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cfinal/problem-13682-4456117-pre.txt\u003e/4    1106105153 ns          1\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cfinal/problem-13682-4456117-pre.txt\u003e/8     656461005 ns          1\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cfinal/problem-13682-4456117-pre.txt\u003e/16    325241754 ns          2\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cfinal/problem-13682-4456117-pre.txt\u003e/28    321631397 ns          2\nJacobianLeftMultiplyAndAccumulateCuda\u003cfinal/problem-13682-4456117-pre.txt\u003e/1               31611046 ns         22\n\nJacobianLeftMultiplyAndAccumulate\u003cvenice/problem-1778-993923-pre.txt\u003e/1                   193475356 ns          3\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cvenice/problem-1778-993923-pre.txt\u003e/1      192250011 ns          3\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cvenice/problem-1778-993923-pre.txt\u003e/2      340938361 ns          2\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cvenice/problem-1778-993923-pre.txt\u003e/4      181779860 ns          4\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cvenice/problem-1778-993923-pre.txt\u003e/8       96215315 ns          6\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cvenice/problem-1778-993923-pre.txt\u003e/16      60226803 ns         13\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cvenice/problem-1778-993923-pre.txt\u003e/28      54763234 ns         13\nJacobianLeftMultiplyAndAccumulateCuda\u003cvenice/problem-1778-993923-pre.txt\u003e/1                 7814382 ns         92\n\nJacobianLeftMultiplyAndAccumulate\u003cladybug/problem-1723-156502-pre.txt\u003e/1                   25400483 ns         27\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cladybug/problem-1723-156502-pre.txt\u003e/1      25584337 ns         24\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cladybug/problem-1723-156502-pre.txt\u003e/2      42614348 ns         17\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cladybug/problem-1723-156502-pre.txt\u003e/4      23980668 ns         30\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cladybug/problem-1723-156502-pre.txt\u003e/8      12806320 ns         55\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cladybug/problem-1723-156502-pre.txt\u003e/16      7688986 ns         93\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cladybug/problem-1723-156502-pre.txt\u003e/28      7135957 ns         98\nJacobianLeftMultiplyAndAccumulateCuda\u003cladybug/problem-1723-156502-pre.txt\u003e/1                1066891 ns        514\n\nJacobianLeftMultiplyAndAccumulate\u003cdubrovnik/problem-356-226730-pre.txt\u003e/1                  46936728 ns         15\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cdubrovnik/problem-356-226730-pre.txt\u003e/1     46453509 ns         15\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cdubrovnik/problem-356-226730-pre.txt\u003e/2     85747451 ns          9\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cdubrovnik/problem-356-226730-pre.txt\u003e/4     46889849 ns         15\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cdubrovnik/problem-356-226730-pre.txt\u003e/8     25061525 ns         28\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cdubrovnik/problem-356-226730-pre.txt\u003e/16    14815335 ns         47\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003cdubrovnik/problem-356-226730-pre.txt\u003e/28    13627840 ns         52\nJacobianLeftMultiplyAndAccumulateCuda\u003cdubrovnik/problem-356-226730-pre.txt\u003e/1               2079737 ns        318\n\nJacobianLeftMultiplyAndAccumulate\u003ctrafalgar/problem-257-65132-pre.txt\u003e/1                    7809908 ns         89\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003ctrafalgar/problem-257-65132-pre.txt\u003e/1       7942257 ns         87\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003ctrafalgar/problem-257-65132-pre.txt\u003e/2      10874393 ns         64\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003ctrafalgar/problem-257-65132-pre.txt\u003e/4       5609020 ns        123\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003ctrafalgar/problem-257-65132-pre.txt\u003e/8       3063288 ns        228\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003ctrafalgar/problem-257-65132-pre.txt\u003e/16      1841261 ns        361\nJacobianLeftMultiplyAndAccumulateWithTranspose\u003ctrafalgar/problem-257-65132-pre.txt\u003e/28      1758961 ns        396\nJacobianLeftMultiplyAndAccumulateCuda\u003ctrafalgar/problem-257-65132-pre.txt\u003e/1                 536210 ns       1034\n```",
      "revId": "9b3d05553c40714f2de4624471fef6331b8efc8f",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    }
  ]
}
{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "19dc100d_f5cc67bf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5135
      },
      "writtenOn": "2022-02-15T03:03:18Z",
      "side": 1,
      "message": "CUDA resources are now solely managed by ContextImpl.",
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "77b27991_53cb2ef4",
        "filename": "internal/ceres/CMakeLists.txt",
        "patchSetId": 1
      },
      "lineNbr": 394,
      "author": {
        "id": 5135
      },
      "writtenOn": "2022-02-15T03:03:18Z",
      "side": 1,
      "message": "Needed since ContextImpl won\u0027t compile without it.",
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "32689f41_299b82a3",
        "filename": "internal/ceres/CMakeLists.txt",
        "patchSetId": 1
      },
      "lineNbr": 394,
      "author": {
        "id": 5002
      },
      "writtenOn": "2022-02-15T05:22:58Z",
      "side": 1,
      "message": "why does contextimpl need to be public? this does not seem right. but there is also some funniness that sergiu is in the midst of fixing. so lets wait on this till his CL is checked in tomorrow.",
      "parentUuid": "77b27991_53cb2ef4",
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f95ddb0a_fc71c38e",
        "filename": "internal/ceres/CMakeLists.txt",
        "patchSetId": 1
      },
      "lineNbr": 394,
      "author": {
        "id": 6612
      },
      "writtenOn": "2022-02-15T16:40:46Z",
      "side": 1,
      "message": "Irrespective of my changes, changing to public should not be needed. What\u0027s the error that you get?",
      "parentUuid": "32689f41_299b82a3",
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6eb50eea_2f1493b4",
        "filename": "internal/ceres/CMakeLists.txt",
        "patchSetId": 1
      },
      "lineNbr": 394,
      "author": {
        "id": 5135
      },
      "writtenOn": "2022-02-15T16:55:18Z",
      "side": 1,
      "message": "The error stems from the chain of includes from benchmark targets. Here is the error from one of the benchmark targets when this is set to PRIVATE: \n\n```\nIn file included from ceres-solver/internal/ceres/linear_solver.h:46,\n                 from ceres-solver/internal/ceres/schur_eliminator.h:46,\n                 from ceres-solver/internal/ceres/schur_eliminator_benchmark.cc:39:\nceres-solver/internal/ceres/context_impl.h:44:10: fatal error: cuda_runtime.h: No such file or directory\n   44 | #include \"cuda_runtime.h\"\n      |          ^~~~~~~~~~~~~~~~\n```",
      "parentUuid": "f95ddb0a_fc71c38e",
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "71a7d9d8_e869b3bd",
        "filename": "internal/ceres/CMakeLists.txt",
        "patchSetId": 1
      },
      "lineNbr": 394,
      "author": {
        "id": 6612
      },
      "writtenOn": "2022-02-15T17:09:11Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "6eb50eea_2f1493b4",
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d77f8e88_3dcb4282",
        "filename": "internal/ceres/CMakeLists.txt",
        "patchSetId": 1
      },
      "lineNbr": 581,
      "author": {
        "id": 5135
      },
      "writtenOn": "2022-02-15T16:58:36Z",
      "side": 1,
      "message": "Shouldn\u0027t these have target includes with the private includes? That should solve the include dir problem.",
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "568bcc34_aebed641",
        "filename": "internal/ceres/CMakeLists.txt",
        "patchSetId": 1
      },
      "lineNbr": 581,
      "author": {
        "id": 6612
      },
      "writtenOn": "2022-02-15T17:09:11Z",
      "side": 1,
      "message": "Yes, we can expand `add_dependencies_to_benchmark` by additionally calling\n```\ntarget_include_directories(${BENCHMARK_TARGET} PRIVATE ${CERES_LIBRARY_PRIVATE_DEPENDENCIES_INCLUDE_DIRS})\n```\nsimilar to how it is done for tests. Or we could make private includes public for the `test_util` target to avoid repeating the line.",
      "parentUuid": "d77f8e88_3dcb4282",
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6c9744bd_13a24e6d",
        "filename": "internal/ceres/context_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 5002
      },
      "writtenOn": "2022-02-15T05:22:58Z",
      "side": 1,
      "message": "why not have this function also be guarded by CERES_NO_CUDA? unlike ensureminimumthreads, this function is not going to be called by non-cuda code no?",
      "range": {
        "startLine": 45,
        "startChar": 5,
        "endLine": 45,
        "endChar": 16
      },
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "31d1078c_0fb9b06e",
        "filename": "internal/ceres/context_impl.cc",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 5135
      },
      "writtenOn": "2022-02-15T14:30:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6c9744bd_13a24e6d",
      "range": {
        "startLine": 45,
        "startChar": 5,
        "endLine": 45,
        "endChar": 16
      },
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3d5a5e96_c4ded194",
        "filename": "internal/ceres/context_impl.h",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 5002
      },
      "writtenOn": "2022-02-15T05:22:58Z",
      "side": 1,
      "message": "this should be after the header guard not before, just like the threading includes.",
      "range": {
        "startLine": 30,
        "startChar": 8,
        "endLine": 30,
        "endChar": 21
      },
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5fee9900_9027201d",
        "filename": "internal/ceres/context_impl.h",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 5135
      },
      "writtenOn": "2022-02-15T14:30:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3d5a5e96_c4ded194",
      "range": {
        "startLine": 30,
        "startChar": 8,
        "endLine": 30,
        "endChar": 21
      },
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "218d17c2_fcb810be",
        "filename": "internal/ceres/context_impl.h",
        "patchSetId": 1
      },
      "lineNbr": 72,
      "author": {
        "id": 5002
      },
      "writtenOn": "2022-02-15T05:22:58Z",
      "side": 1,
      "message": "shouldn\u0027t this be guarded by CERES_NO_CUDA too?",
      "range": {
        "startLine": 72,
        "startChar": 7,
        "endLine": 72,
        "endChar": 15
      },
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cd7ba32e_35db0f6f",
        "filename": "internal/ceres/context_impl.h",
        "patchSetId": 1
      },
      "lineNbr": 72,
      "author": {
        "id": 5135
      },
      "writtenOn": "2022-02-15T14:30:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "218d17c2_fcb810be",
      "range": {
        "startLine": 72,
        "startChar": 7,
        "endLine": 72,
        "endChar": 15
      },
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1d3c7de8_528e69e5",
        "filename": "internal/ceres/dense_linear_solver_benchmark.cc",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 5002
      },
      "writtenOn": "2022-02-15T05:22:58Z",
      "side": 1,
      "message": "you don\u0027t need this outside the benchmark. the loop is what is timed, so as long as it is outside the loop its no problem,",
      "range": {
        "startLine": 39,
        "startChar": 9,
        "endLine": 39,
        "endChar": 17
      },
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fd0f3377_dd65daf8",
        "filename": "internal/ceres/dense_linear_solver_benchmark.cc",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 5135
      },
      "writtenOn": "2022-02-15T14:30:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1d3c7de8_528e69e5",
      "range": {
        "startLine": 39,
        "startChar": 9,
        "endLine": 39,
        "endChar": 17
      },
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8289581e_68cc3ce1",
        "filename": "internal/ceres/dense_qr.cc",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 5002
      },
      "writtenOn": "2022-02-15T05:22:58Z",
      "side": 1,
      "message": "blank before",
      "range": {
        "startLine": 36,
        "startChar": 8,
        "endLine": 36,
        "endChar": 21
      },
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d3c6fb64_fd1ab400",
        "filename": "internal/ceres/dense_qr.cc",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 5135
      },
      "writtenOn": "2022-02-15T14:30:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8289581e_68cc3ce1",
      "range": {
        "startLine": 36,
        "startChar": 8,
        "endLine": 36,
        "endChar": 21
      },
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "851f9332_2da69bfb",
        "filename": "internal/ceres/types.cc",
        "patchSetId": 1
      },
      "lineNbr": 436,
      "author": {
        "id": 5135
      },
      "writtenOn": "2022-02-15T03:03:18Z",
      "side": 1,
      "message": "Whoops, I should have noticed this in the previous review.",
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f268f0c1_e1b183ba",
        "filename": "internal/ceres/types.cc",
        "patchSetId": 1
      },
      "lineNbr": 436,
      "author": {
        "id": 5002
      },
      "writtenOn": "2022-02-15T05:22:58Z",
      "side": 1,
      "message": "wow that is rather shameful on my part :/",
      "parentUuid": "851f9332_2da69bfb",
      "revId": "54c6e0824deadccf60a1d94c476f8dc47807e6cf",
      "serverId": "cdcfcfbe-2044-3b1f-b5d4-da77ad542329"
    }
  ]
}